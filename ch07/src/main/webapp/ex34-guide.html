<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>sample1</title>
<link href='image-viewer.css' type='text/css' rel="stylesheet"/>
<script type="text/javascript" src="./jquery/jquery-3.6.0.js"></script>
<script type="text/javascript">

var images = [ 
	"국화:Chrysanthemum.jpg", 
	"사막:Desert.jpg", 
	"수국:Hydrangeas.jpg", 
	"해파리:Jellyfish.jpg", 
	"코알라:Koala.jpg", 
	"등대:Lighthouse.jpg", 
	"펭귄:Penguins.jpg", 
	"툴립:Tulips.jpg" ];

var changeImage = function(){
	//랜덤 변수
	var index = Math.floor( Math.random() * (images.length-1)  ) + 1;
	var info = images[index].split(":");
	var src = '/ch07/images/' + info[1];
	var alt = info[0];
	$('div > img').attr("src", src);
	$('div > img').attr("alt", alt);
	console.log(alt, src);
}

$(function(){
	var isSlideShow = false;
	$('#btn-change').click(function(){
		changeImage();
	});
	$('#btn-slideshow').click(function(){
		isSlideShow = !isSlideShow;
		$(this).text(isSlideShow ? '슬라이드쇼 중지':'슬라이드쇼 시작');
		var interval = setInterval(function(){
			changeImage();
			if(!isSlideShow) {
				clearInterval(interval);
				return;
			}
		}, 1000);
	});
	
});

/* jquery plug in*/
$.fn.hello = function(){
	console.log("hello world", this.length);
	return this;	
}
$.fn.flash = function(){
	var _this = this;
	var isBlink = false;
	setInterval(function(){
		_this.css('background-color', isBlink ? 'red':'blue');
		isBlink = !isBlink;
	}, 500);
	return this;	
}
</script>
</head>
<body>
	<div class="image-viewer">
		<div class="buttons">
			<button id="btn-change">이미지변경</button>
			<button id="btn-slideshow">슬라이드쇼 시작</button>
		</div>
		<div>
			<img src="/ch07/images/Desert.jpg" alt="사막"/>
		</div>
	</div>
</body>
</html>